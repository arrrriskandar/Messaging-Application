{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { createContext, useState } from \"react\";\nimport { auth, appVerifier } from \"../config/firebase\";\nimport { signOut, signInWithPhoneNumber } from \"firebase/auth\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var AuthContext = createContext();\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  return _jsx(AuthContext.Provider, {\n    value: {\n      user: user,\n      setUser: setUser,\n      login: function () {\n        var _login = _asyncToGenerator(function* (phoneNumber) {\n          try {\n            var confirmationResult = yield signInWithPhoneNumber(auth, phoneNumber, appVerifier);\n            otp: (function () {\n              var _ref2 = _asyncToGenerator(function* (verificationCode) {\n                try {\n                  yield confirmationResult.confirm(verificationCode);\n                } catch (e) {\n                  Alert.alert(e.message);\n                }\n              });\n              return function (_x2) {\n                return _ref2.apply(this, arguments);\n              };\n            })();\n          } catch (e) {\n            Alert.alert(e.message);\n          }\n        });\n        function login(_x) {\n          return _login.apply(this, arguments);\n        }\n        return login;\n      }(),\n      logout: function () {\n        var _logout = _asyncToGenerator(function* () {\n          try {\n            yield signOut(auth);\n          } catch (e) {\n            console.log(e);\n          }\n        });\n        function logout() {\n          return _logout.apply(this, arguments);\n        }\n        return logout;\n      }()\n    },\n    children: children\n  });\n};","map":{"version":3,"names":["React","createContext","useState","auth","appVerifier","signOut","signInWithPhoneNumber","Alert","jsx","_jsx","AuthContext","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","user","setUser","Provider","value","login","_login","_asyncToGenerator","phoneNumber","confirmationResult","otp","_ref2","verificationCode","confirm","e","alert","message","_x2","apply","arguments","_x","logout","_logout","console","log"],"sources":["/Users/ariskandar/Desktop/Messaging-Application/navigation/AuthProvider.js"],"sourcesContent":["import React, { createContext, useState } from \"react\";\nimport { auth, appVerifier } from '../config/firebase';\nimport { signOut, signInWithPhoneNumber } from \"firebase/auth\";\nimport { Alert } from \"react-native\";\n\n\nexport const AuthContext = createContext();\n\nexport const AuthProvider = ({children}) => {\n  const [user, setUser] = useState(null);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        setUser,\n        login: async (phoneNumber) => {\n          try{\n            const confirmationResult = await signInWithPhoneNumber(auth, phoneNumber,appVerifier);\n            otp: async(verificationCode) => {\n              try{\n                await confirmationResult.confirm(verificationCode);\n              }catch(e){\n                Alert.alert(e.message);\n              }\n            }\n          }catch(e){\n            Alert.alert(e.message);\n          }\n        },\n        logout: async () => {\n          try{\n            await signOut(auth);\n          }catch(e){\n            console.log(e);\n          }\n        },\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  )\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AACtD,SAASC,IAAI,EAAEC,WAAW;AAC1B,SAASC,OAAO,EAAEC,qBAAqB,QAAQ,eAAe;AAAC,OAAAC,KAAA;AAAA,SAAAC,GAAA,IAAAC,IAAA;AAI/D,OAAO,IAAMC,WAAW,GAAGT,aAAa,CAAC,CAAC;AAE1C,OAAO,IAAMU,YAAY,GAAG,SAAfA,YAAYA,CAAAC,IAAA,EAAmB;EAAA,IAAdC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EACpC,IAAAC,SAAA,GAAwBZ,QAAQ,CAAC,IAAI,CAAC;IAAAa,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAEpB,OACEN,IAAA,CAACC,WAAW,CAACS,QAAQ;IACnBC,KAAK,EAAE;MACLH,IAAI,EAAJA,IAAI;MACJC,OAAO,EAAPA,OAAO;MACPG,KAAK;QAAA,IAAAC,MAAA,GAAAC,iBAAA,CAAE,WAAOC,WAAW,EAAK;UAC5B,IAAG;YACD,IAAMC,kBAAkB,SAASnB,qBAAqB,CAACH,IAAI,EAAEqB,WAAW,EAACpB,WAAW,CAAC;YACrFsB,GAAG,EAAE;cAAA,IAAAC,KAAA,GAAAJ,iBAAA,YAAMK,gBAAgB,EAAK;gBAC9B,IAAG;kBACD,MAAMH,kBAAkB,CAACI,OAAO,CAACD,gBAAgB,CAAC;gBACpD,CAAC,QAAME,CAAC,EAAC;kBACPvB,KAAK,CAACwB,KAAK,CAACD,CAAC,CAACE,OAAO,CAAC;gBACxB;cACF,CAAC;cAAA,iBAAAC,GAAA;gBAAA,OAAAN,KAAA,CAAAO,KAAA,OAAAC,SAAA;cAAA;YAAA;UACH,CAAC,QAAML,CAAC,EAAC;YACPvB,KAAK,CAACwB,KAAK,CAACD,CAAC,CAACE,OAAO,CAAC;UACxB;QACF,CAAC;QAAA,SAAAX,MAAAe,EAAA;UAAA,OAAAd,MAAA,CAAAY,KAAA,OAAAC,SAAA;QAAA;QAAA,OAAAd,KAAA;MAAA;MACDgB,MAAM;QAAA,IAAAC,OAAA,GAAAf,iBAAA,CAAE,aAAY;UAClB,IAAG;YACD,MAAMlB,OAAO,CAACF,IAAI,CAAC;UACrB,CAAC,QAAM2B,CAAC,EAAC;YACPS,OAAO,CAACC,GAAG,CAACV,CAAC,CAAC;UAChB;QACF,CAAC;QAAA,SAAAO,OAAA;UAAA,OAAAC,OAAA,CAAAJ,KAAA,OAAAC,SAAA;QAAA;QAAA,OAAAE,MAAA;MAAA;IACH,CAAE;IAAAxB,QAAA,EAEDA;EAAQ,CACW,CAAC;AAE3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}