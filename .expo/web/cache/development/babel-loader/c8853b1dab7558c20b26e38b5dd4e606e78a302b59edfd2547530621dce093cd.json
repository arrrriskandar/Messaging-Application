{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport React, { createContext, useState } from \"react\";\nimport { auth } from \"../config/firebase\";\nimport { signInWithEmailAndPassword, signOut, createUserWithEmailAndPassword, sendPasswordResetEmail } from \"firebase/auth\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var AuthContext = createContext();\nexport var AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  return _jsx(AuthContext.Provider, {\n    value: {\n      user: user,\n      setUser: setUser,\n      login: function () {\n        var _login = _asyncToGenerator(function* (email, password) {\n          try {\n            yield signInWithEmailAndPassword(auth, email, password);\n          } catch (e) {\n            Alert.alert('Login error', e.message);\n          }\n        });\n        function login(_x, _x2) {\n          return _login.apply(this, arguments);\n        }\n        return login;\n      }(),\n      register: function () {\n        var _register = _asyncToGenerator(function* (email, password) {\n          try {\n            yield createUserWithEmailAndPassword(auth, email, password);\n          } catch (e) {\n            Alert.alert('Sign up error', e.message);\n          }\n        });\n        function register(_x3, _x4) {\n          return _register.apply(this, arguments);\n        }\n        return register;\n      }(),\n      logout: function () {\n        var _logout = _asyncToGenerator(function* () {\n          try {\n            yield signOut(auth);\n          } catch (e) {\n            console.log(e);\n          }\n        });\n        function logout() {\n          return _logout.apply(this, arguments);\n        }\n        return logout;\n      }(),\n      forgotPassword: function () {\n        var _forgotPassword = _asyncToGenerator(function* (email) {\n          try {\n            yield sendPasswordResetEmail(auth, email);\n          } catch (e) {\n            Alert.alert('Reset password error', e.message);\n          }\n        });\n        function forgotPassword(_x5) {\n          return _forgotPassword.apply(this, arguments);\n        }\n        return forgotPassword;\n      }()\n    },\n    children: children\n  });\n};","map":{"version":3,"names":["AsyncStorage","React","createContext","useState","auth","signInWithEmailAndPassword","signOut","createUserWithEmailAndPassword","sendPasswordResetEmail","Alert","jsx","_jsx","AuthContext","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","user","setUser","Provider","value","login","_login","_asyncToGenerator","email","password","e","alert","message","_x","_x2","apply","arguments","register","_register","_x3","_x4","logout","_logout","console","log","forgotPassword","_forgotPassword","_x5"],"sources":["/Users/ariskandar/Desktop/Messaging-Application/navigation/AuthProvider.js"],"sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport React, { createContext, useState } from \"react\";\nimport { auth } from '../config/firebase';\nimport { signInWithEmailAndPassword, signOut, createUserWithEmailAndPassword, sendPasswordResetEmail } from \"firebase/auth\";\nimport { Alert } from \"react-native\";\n\nexport const AuthContext = createContext();\n\nexport const AuthProvider = ({children}) => {\n  const [user, setUser] = useState(null);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        setUser,\n        login: async (email, password) => {\n          try{\n            await signInWithEmailAndPassword(auth, email,password);\n          }catch(e){\n            Alert.alert('Login error', e.message);\n          }\n        },\n        register: async (email, password) => {\n          try{\n            await createUserWithEmailAndPassword(auth, email, password);\n          }catch(e){\n            Alert.alert('Sign up error', e.message);\n          }\n        },\n        logout: async () => {\n          try{\n            await signOut(auth);\n          }catch(e){\n            console.log(e);\n          }\n        },\n        forgotPassword: async (email) => {\n          try{\n            await sendPasswordResetEmail(auth,email);\n          }\n          catch(e){\n            Alert.alert('Reset password error', e.message);\n          }\n        },\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  )\n}"],"mappings":";;AAAA,OAAOA,YAAY,MAAM,2CAA2C;AACpE,OAAOC,KAAK,IAAIC,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AACtD,SAASC,IAAI;AACb,SAASC,0BAA0B,EAAEC,OAAO,EAAEC,8BAA8B,EAAEC,sBAAsB,QAAQ,eAAe;AAAC,OAAAC,KAAA;AAAA,SAAAC,GAAA,IAAAC,IAAA;AAG5H,OAAO,IAAMC,WAAW,GAAGV,aAAa,CAAC,CAAC;AAE1C,OAAO,IAAMW,YAAY,GAAG,SAAfA,YAAYA,CAAAC,IAAA,EAAmB;EAAA,IAAdC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EACpC,IAAAC,SAAA,GAAwBb,QAAQ,CAAC,IAAI,CAAC;IAAAc,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAEpB,OACEN,IAAA,CAACC,WAAW,CAACS,QAAQ;IACnBC,KAAK,EAAE;MACLH,IAAI,EAAJA,IAAI;MACJC,OAAO,EAAPA,OAAO;MACPG,KAAK;QAAA,IAAAC,MAAA,GAAAC,iBAAA,CAAE,WAAOC,KAAK,EAAEC,QAAQ,EAAK;UAChC,IAAG;YACD,MAAMtB,0BAA0B,CAACD,IAAI,EAAEsB,KAAK,EAACC,QAAQ,CAAC;UACxD,CAAC,QAAMC,CAAC,EAAC;YACPnB,KAAK,CAACoB,KAAK,CAAC,aAAa,EAAED,CAAC,CAACE,OAAO,CAAC;UACvC;QACF,CAAC;QAAA,SAAAP,MAAAQ,EAAA,EAAAC,GAAA;UAAA,OAAAR,MAAA,CAAAS,KAAA,OAAAC,SAAA;QAAA;QAAA,OAAAX,KAAA;MAAA;MACDY,QAAQ;QAAA,IAAAC,SAAA,GAAAX,iBAAA,CAAE,WAAOC,KAAK,EAAEC,QAAQ,EAAK;UACnC,IAAG;YACD,MAAMpB,8BAA8B,CAACH,IAAI,EAAEsB,KAAK,EAAEC,QAAQ,CAAC;UAC7D,CAAC,QAAMC,CAAC,EAAC;YACPnB,KAAK,CAACoB,KAAK,CAAC,eAAe,EAAED,CAAC,CAACE,OAAO,CAAC;UACzC;QACF,CAAC;QAAA,SAAAK,SAAAE,GAAA,EAAAC,GAAA;UAAA,OAAAF,SAAA,CAAAH,KAAA,OAAAC,SAAA;QAAA;QAAA,OAAAC,QAAA;MAAA;MACDI,MAAM;QAAA,IAAAC,OAAA,GAAAf,iBAAA,CAAE,aAAY;UAClB,IAAG;YACD,MAAMnB,OAAO,CAACF,IAAI,CAAC;UACrB,CAAC,QAAMwB,CAAC,EAAC;YACPa,OAAO,CAACC,GAAG,CAACd,CAAC,CAAC;UAChB;QACF,CAAC;QAAA,SAAAW,OAAA;UAAA,OAAAC,OAAA,CAAAP,KAAA,OAAAC,SAAA;QAAA;QAAA,OAAAK,MAAA;MAAA;MACDI,cAAc;QAAA,IAAAC,eAAA,GAAAnB,iBAAA,CAAE,WAAOC,KAAK,EAAK;UAC/B,IAAG;YACD,MAAMlB,sBAAsB,CAACJ,IAAI,EAACsB,KAAK,CAAC;UAC1C,CAAC,CACD,OAAME,CAAC,EAAC;YACNnB,KAAK,CAACoB,KAAK,CAAC,sBAAsB,EAAED,CAAC,CAACE,OAAO,CAAC;UAChD;QACF,CAAC;QAAA,SAAAa,eAAAE,GAAA;UAAA,OAAAD,eAAA,CAAAX,KAAA,OAAAC,SAAA;QAAA;QAAA,OAAAS,cAAA;MAAA;IACH,CAAE;IAAA5B,QAAA,EAEDA;EAAQ,CACW,CAAC;AAE3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}